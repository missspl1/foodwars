(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{145:function(e,t,a){e.exports=a.p+"static/media/whole.a0ed8654.png"},199:function(e,t,a){e.exports=a.p+"static/media/pierogi.ef8116aa.png"},200:function(e,t,a){e.exports=a.p+"static/media/pizza.dcd32a97.png"},201:function(e,t,a){e.exports=a.p+"static/media/vs.79798418.png"},238:function(e,t,a){e.exports=a(417)},243:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),i=(a(243),a(32));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(20),s=a(19),u=a(22),m=a(21),h=a(108),p=a(77),d=a(422),f=a(425),E=a(69),b=a(60),y=a(168),v=a.n(y),g=a(204),k=a(122),j=a.n(k),O=a(47),w=a.n(O);function T(e){return j()({method:"get",url:e,headers:{Authorization:I()}}).then((function(e){return R(e.headers.refreshedToken),e.data})).catch((function(e){throw e}))}function S(e,t){return j()({method:"post",url:e,data:t,headers:{Authorization:I()}}).then((function(e){return R(e.headers.refreshedToken),e.data})).catch((function(e){throw e}))}function z(e,t){return j()({method:"put",url:e,data:t,headers:{Authorization:I()}}).then((function(e){return R(e.headers.refreshedToken),e.data})).catch((function(e){throw e}))}function C(e){return j()({method:"delete",url:e,headers:{Authorization:I()}}).then((function(e){return R(e.headers.refreshedToken),e.data})).catch((function(e){throw e}))}function I(){var e=w.a.load("auth");return null!=e?e:""}function R(e){null!=e&&w.a.save("auth",e,{path:"/"})}function A(e,t,a){return P.apply(this,arguments)}function P(){return(P=Object(g.a)(v.a.mark((function e(t,a,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="https://foodwar.azurewebsites.net/"+a,e.t0=t,e.next="POST"===e.t0?4:"DELETE"===e.t0?5:"PUT"===e.t0?6:"GET"===e.t0?7:8;break;case 4:return e.abrupt("return",S(a,n).then((function(e){return e})).catch((function(e){throw e})));case 5:return e.abrupt("return",C(a).then((function(e){return e})).catch((function(e){throw e})));case 6:return e.abrupt("return",z(a,n).then((function(e){return e})).catch((function(e){throw e})));case 7:return e.abrupt("return",T(a).then((function(e){return e})).catch((function(e){throw e})));case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=a(42),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"login",value:function(e){var t=this;A("POST","Users/Login",{Password:e}).then((function(e){if(null!=e.token){w.a.save("auth","Bearer "+e.token,{path:"/"}),w.a.save("role",e.user.role.roleName,{path:"/"}),w.a.save("username",e.user.username,{path:"/"});var a=t.props.handler}a(),t.props.history.push("/")})).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(b.a,{queries:{small:{maxWidth:768}}},(function(e){return e.small?r.a.createElement("div",null):r.a.createElement(p.a,{span:8})})),r.a.createElement(p.a,{flex:"auto"},r.a.createElement(d.a,{requiredMark:!0,layout:"vertical",onFinish:function(t){e.login(t.password)}},r.a.createElement(d.a.Item,{label:"Password",required:!0,name:"password"},r.a.createElement(f.a.Password,null)),r.a.createElement(d.a.Item,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Submit")))),r.a.createElement(b.a,{queries:{small:{maxWidth:768}}},(function(e){return e.small?r.a.createElement("div",null):r.a.createElement(p.a,{span:8})}))))}}]),a}(r.a.Component),U=Object(D.f)(x),N=(r.a.Component,a(99)),W=a(152),V=a(424),M=a(427),G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onClick=function(t){switch(t.key){case 1:case 2:break;case"3":e.logOut()}},e.menu=r.a.createElement(N.a,{onClick:e.onClick},r.a.createElement(N.a.ItemGroup,{key:"g1",title:w.a.load("username",{path:"/"})}),e.conditionalRender(),r.a.createElement(N.a.Item,{key:"2"},r.a.createElement(i.b,{to:"/editProfile"},"    Edit Profile")),r.a.createElement(N.a.Item,{key:"3",danger:!0},"Logout")),e}return Object(s.a)(a,[{key:"getProfile",value:function(){A("GET","Users/MyProfile").then((function(e){})).catch((function(e){console.log(e)}))}},{key:"conditionalRender",value:function(){if("admin"==w.a.load("role",{path:"/"}))return r.a.createElement(N.a.Item,{key:"1"},r.a.createElement(i.b,{to:"/admin"}," Admin Menu "))}},{key:"logOut",value:function(){w.a.remove("auth",{path:"/"}),w.a.remove("role",{path:"/"}),w.a.remove("username",{path:"/"}),(0,this.props.handler)(),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(h.a,{gutter:8,justify:"end"},r.a.createElement(p.a,{span:4}),r.a.createElement(p.a,null,r.a.createElement(W.a,{overlay:this.menu,onClick:function(e){return e.preventDefault()}},r.a.createElement(V.a,{shape:"square",style:{background:"white",color:"black"},size:36,icon:r.a.createElement(M.a,null)}))))}}]),a}(r.a.Component),B=Object(D.f)(G),F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(i.b,{to:"/login",style:{textDecoration:"none"}}," ",r.a.createElement(E.a,{type:"primary"},"Login")," "))}}]),a}(r.a.Component),L=a(418),Y=a(423),H=a(426),q=(L.a.Header,L.a.Content,L.a.Footer,Y.a.Title,Y.a.Paragraph,Y.a.Text,{background:"#0092ff",padding:"4px 0"}),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={auth:n.auth()},n}return Object(s.a)(a,[{key:"auth",value:function(){return w.a.load("auth")}},{key:"handler",value:function(){this.setState({auth:this.auth()}),(0,this.props.handler)()}},{key:"refreshAuth",value:function(){this.setState({auth:this.auth()})}},{key:"componentWillReceiveProps",value:function(e){this.refreshAuth()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b.a,{queries:{small:{maxWidth:768}}},(function(t){return t.small?r.a.createElement("div",null,r.a.createElement(h.a,{justify:"space-around",style:q,align:"middle"},r.a.createElement(p.a,null,r.a.createElement(i.b,{to:"/",style:{color:"white"}},r.a.createElement("b",null,"FoodWars "),"  ",r.a.createElement(H.a,{color:"YELLOW"}))),null!=e.state.auth?r.a.createElement(B,{handler:e.handler.bind(e)}," "):r.a.createElement(F,{handler:e.handler.bind(e)}," "))):r.a.createElement("div",null,r.a.createElement(h.a,{justify:"space-around",style:q,align:"middle"},r.a.createElement(p.a,null,r.a.createElement(i.b,{to:"/",style:{color:"white"}},r.a.createElement("b",null,"FoodWars")," ",r.a.createElement(H.a,{color:"YELLOW"}))),r.a.createElement(p.a,{span:10}),r.a.createElement(p.a,null,null!=e.state.auth?r.a.createElement(B,{handler:e.handler.bind(e)}," "):r.a.createElement(F,{handler:e.handler.bind(e)}," "))))})))}}]),a}(r.a.Component),J=a(154),$=a(234),Q=a(420),X=(a(199),a(200),a(201),a(145)),Z=a.n(X),_=a(150),ee=_.a.div({hidden:{scale:.5,opacity:.2,transition:{duration:1500}},visible:{scale:1,opacity:1,transition:{duration:1200}}}),te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isVisible:!0},n}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"componentDidMount",value:function(){var e=this;this.setState({isVisible:!this.state.isVisible}),setInterval((function(){e.setState({isVisible:!e.state.isVisible})}),1500)}},{key:"render",value:function(){var e=this.state.isVisible;return r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,null,r.a.createElement(ee,{pose:e?"hidden":"visible"},r.a.createElement("img",{src:Z.a,style:{height:"700px",width:"700px"},alt:"Logo"}))))}}]),a}(r.a.Component),ae=_.a.div({hidden:{scale:.5,opacity:.2,transition:{duration:1500}},visible:{scale:1,opacity:1,transition:{duration:1200}}}),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isVisible:!0},n}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"componentDidMount",value:function(){var e=this;this.setState({isVisible:!this.state.isVisible}),setInterval((function(){e.setState({isVisible:!e.state.isVisible})}),1500)}},{key:"render",value:function(){var e=this.state.isVisible;return r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,null,r.a.createElement(ae,{pose:e?"hidden":"visible"},r.a.createElement("img",{src:Z.a,style:{height:"300px",width:"300px"},alt:"Logo"}))))}}]),a}(r.a.Component),re=[{title:"Name",dataIndex:"name",render:function(e){return r.a.createElement("a",null,e)}},{title:"Website",dataIndex:"website"},{title:"Description",dataIndex:"description"},{title:"Tags",key:"tags",dataIndex:"tags",render:function(e){return r.a.createElement(r.a.Fragment,null,e.map((function(e){var t="red";switch(e.tag.name){case"Pyszne.pl":t="orange";break;case"Karta p\u0142atnicza":t="red";break;case"Got\xf3wka":t="yellow";break;case"WWW":t="blue";break;default:t=""}return"loser"===e.tag.name&&(t="volcano"),r.a.createElement($.a,{color:t,key:e.tag.id},e.tag.name.toUpperCase())})))}}],le=[{title:"Name",dataIndex:"name",render:function(e){return r.a.createElement("a",null,e)}},{title:"Tags",key:"tags",dataIndex:"tags",render:function(e){return r.a.createElement(r.a.Fragment,null,e.map((function(e){var t="red";switch(e.tag.name){case"Pyszne.pl":t="orange";break;case"Karta p\u0142atnicza":t="red";break;case"Got\xf3wka":t="yellow";break;case"WWW":t="blue";break;default:t=""}return"loser"===e.tag.name&&(t="volcano"),r.a.createElement($.a,{color:t,key:e.tag.id},e.tag.name.toUpperCase())})))}}],ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={restaurants:[],value:"",first:!0,clickc:!1},n}return Object(s.a)(a,[{key:"onClickVS",value:function(){this.setState({clickc:!0})}},{key:"componentDidMount",value:function(){this.getRestaurants(),this.getMyVote()}},{key:"getRestaurants",value:function(){var e=this;A("GET","Vote/Restaurants",{}).then((function(t){var a=t.map((function(e){return{key:e.id.toString(),description:e.description,website:e.website,name:e.name,tags:e.restaurantTags}}));e.setState({restaurants:a})})).catch((function(e){console.log(e)}))}},{key:"vote",value:function(e){A("POST","Vote",{restaurantID:e}).then((function(e){})).catch((function(e){console.log(e)}))}},{key:"getMyVote",value:function(){var e=this;A("GET","Vote/MyVote",{}).then((function(t){null!=t.restaurantID&&e.setState({value:t.restaurantID.toString()}),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"conditionalRender",value:function(){var e=this;switch(console.log(this.state.clickc),this.state.clickc){case!1:return r.a.createElement(b.a,{queries:{small:{maxWidth:768}}},(function(t){return t.small?r.a.createElement("div",{onClick:function(){return e.onClickVS()}}," ",r.a.createElement(ne,null," ")," "):r.a.createElement("div",{onClick:function(){return e.onClickVS()}}," ",r.a.createElement(te,null," ")," ")}));case!0:return r.a.createElement(b.a,{queries:{small:{maxWidth:768}}},(function(t){return t.small?r.a.createElement(Q.a,{rowSelection:{selectedRowKeys:[e.state.value],type:"radio",onChange:function(t,a){e.setState({value:"".concat(t)}),e.vote(parseInt("".concat(t)))}},dataSource:e.state.restaurants,columns:le,pagination:!1}):r.a.createElement(Q.a,{rowSelection:{selectedRowKeys:[e.state.value],type:"radio",onChange:function(t,a){e.setState({value:"".concat(t)}),e.vote(parseInt("".concat(t)))}},dataSource:e.state.restaurants,columns:re,pagination:!1})}))}}},{key:"render",value:function(){return r.a.createElement("div",null,this.conditionalRender())}}]),a}(r.a.Component),ie=a(123),oe=Y.a.Title,se=function(e){var t=e.hours,a=e.minutes,n=e.seconds;return e.completed?r.a.createElement(oe,{level:2,style:{color:"#b8b8b8"}},"Vote started"):r.a.createElement(oe,{level:2,style:{color:"#b8b8b8"}},Object(ie.b)(t),":",Object(ie.b)(a),":",Object(ie.b)(n))},ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"date",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" 09:30"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,"     ",r.a.createElement(h.a,{justify:"center"},"  ",r.a.createElement(ie.a,{date:this.date(),intervalDelay:0,renderer:se})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{justify:"center"}," ",r.a.createElement(oe,{level:2},"Regulamin")),r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,{span:7})," ",r.a.createElement(p.a,{span:10},r.a.createElement(oe,{level:5},"   1. G\u0142osowanie rozpoczyna si\u0119 ka\u017cdego dnia o godzinie 9:30 i ko\u0144czy o 10:30. ")),r.a.createElement(p.a,{span:7})),r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,{span:7})," ",r.a.createElement(p.a,{span:10},r.a.createElement(oe,{level:5},"    2. Aby uczestniczy\u0107 w g\u0142osowaniu nale\u017cy zalogowa\u0107 si\u0119 uprzednio otrzymanym has\u0142em. "))," ",r.a.createElement(p.a,{span:7})),r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,{span:7})," ",r.a.createElement(p.a,{span:10},r.a.createElement(oe,{level:5},"   3. Aby odda\u0107 g\u0142os nale\u017cy zaznaczy\u0107 wybran\u0105 restauracje z listy."))," ",r.a.createElement(p.a,{span:7})),r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,{span:7})," ",r.a.createElement(p.a,{span:10},r.a.createElement(oe,{level:5},"   4. Osoba, kt\xf3ra odda\u0142a/zmieni\u0142a g\u0142os jako ostatnia jest zobowi\u0105zana zamawia\u0107 jedzenie."))," ",r.a.createElement(p.a,{span:7})),r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,{span:7})," ",r.a.createElement(p.a,{span:10},r.a.createElement(oe,{level:5},"   5. W przypadku remisu, restauracja jest wybierana losowo z restauracji o najwi\u0119kszej liczbie g\u0142os\xf3w."))," ",r.a.createElement(p.a,{span:7})),r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,{span:7})," ",r.a.createElement(p.a,{span:10},r.a.createElement(oe,{level:5},"   6. Aby u\u0142atwi\u0107 zwrot pieni\u0119dzy, mo\u017cna doda\u0107 w profilu numer konta bankowego/ numer telefonu na kt\xf3ry pieni\u0105dze maj\u0105 by\u0107 zwr\xf3cone."))," ",r.a.createElement(p.a,{span:7})),r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,{span:7})," ",r.a.createElement(p.a,{span:10},r.a.createElement(oe,{level:5},"   7. Po g\u0142osowaniu wy\u015bwietla si\u0119 informacja o wybranej restauracji wraz z danymi osoby zamawiaj\u0105cej."))," ",r.a.createElement(p.a,{span:7})),r.a.createElement(h.a,{justify:"center"},r.a.createElement(p.a,{span:7})," ",r.a.createElement(p.a,{span:10},r.a.createElement(oe,{level:5},"   8. Wszystkie pytania kierowa\u0107 do Piotra Radlaka."))," ",r.a.createElement(p.a,{span:7})))}}]),a}(r.a.Component),me=a(421),he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).gridStyle={width:"50%",textAlign:"center",height:"100%"},n.cardStyle={width:"100%"},n.state={restaurant:"",user:""},n}return Object(s.a)(a,[{key:"getData",value:function(){var e=this;A("GET","Vote/result").then((function(t){e.setState({restaurant:t.restaurant,user:t.user})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(p.a,{span:6}),r.a.createElement(p.a,{span:12},r.a.createElement(me.a,{style:this.cardStyle,title:this.state.restaurant.name},r.a.createElement(me.a.Grid,{style:this.gridStyle},this.state.restaurant.website,"  \xa0"),r.a.createElement(me.a.Grid,{style:this.gridStyle},this.state.restaurant.phoneNumber,"  \xa0"))),r.a.createElement(p.a,{span:6})),r.a.createElement("br",null),r.a.createElement(h.a,null,r.a.createElement(p.a,{span:6}),r.a.createElement(p.a,{span:12},r.a.createElement(me.a,{title:this.state.user.name+" "+this.state.user.surname,style:this.cardStyle},r.a.createElement(me.a.Grid,{style:this.gridStyle},this.state.user.bankAccount,"  \xa0"),r.a.createElement(me.a.Grid,{style:this.gridStyle},this.state.user.telephone,"  \xa0"))),r.a.createElement(p.a,{span:6})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{justify:"center"},"Pewnie i tak ja b\u0119d\u0119 musia\u0142 zamawia\u0107..."),r.a.createElement(h.a,{justify:"center"},"Numer konta: 84 1020 2137 0000 9602 0138 9956"),r.a.createElement(h.a,{justify:"center"},"Numer telefonu: 516 910 148"))}}]),a}(r.a.Component),pe=Object(D.f)(he),de=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={vote:0},n.connection=null,n}return Object(s.a)(a,[{key:"checkCurrentState",value:function(){var e=this;A("GET","Vote",{}).then((function(t){e.setState({vote:t.state})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this,t={transport:J.a.WebSockets};this.connection=(new J.b).withUrl("https://foodwar.azurewebsites.net/votehub",t).withHubProtocol(new J.c).build(),this.connection.start().then((function(){return console.info("SignalR Connected")})).catch((function(e){return console.error("SignalR Connection Error: ",e)})),this.checkCurrentState(),this.connection.on("State",(function(t){e.setState({vote:t})}))}},{key:"onClick",value:function(){console.log("REEEE")}},{key:"conditionalRender",value:function(){switch(this.state.vote){case 0:return r.a.createElement(ue,null);case 1:return r.a.createElement(ce,null);case 2:return r.a.createElement(pe,null);default:return r.a.createElement("div",null)}}},{key:"render",value:function(){return r.a.createElement("div",null,this.conditionalRender())}}]),a}(r.a.Component),fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"editProfile",value:function(e,t){A("PUT","Users/Edit",{Telephone:e,BankAccount:t}).then(this.props.history.push("/editProfile")).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{initialValues:{Username:this.props.username,Telephone:this.props.telephone,BankAccount:this.props.bankAccount},labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",size:"small",onFinish:function(t){e.editProfile(t.Telephone,t.BankAccount)}},r.a.createElement(d.a.Item,{label:"Telephone Number",name:"Telephone"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Bank Account",name:"BankAccount"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,null,r.a.createElement(E.a,{type:"primary",size:"middle",htmlType:"submit"},"Submit")))}}]),a}(r.a.Component),Ee=Object(D.f)(fe),be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={telephone:"",bankAccount:"",username:""},n}return Object(s.a)(a,[{key:"getProfile",value:function(){var e=this;A("GET","Users/MyProfile").then((function(t){e.setState({username:t.username,bankAccount:t.bankAccount,telephone:t.telephone})})).catch((function(e){console.log(e)}))}},{key:"conditionalRender",value:function(){return""==this.state.username?r.a.createElement("div",null):r.a.createElement(Ee,{username:this.state.username,telephone:this.state.telephone,bankAccount:this.state.bankAccount})}},{key:"componentDidMount",value:function(){this.getProfile()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){return r.a.createElement("div",null," ",this.conditionalRender(),console.log(this.state.username))}}]),a}(r.a.Component),ye=Object(D.f)(be),ve=(a(163),a(419)),ge=a(53),ke=a.n(ge),je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"editRestaurant",value:function(e,t,a,n,r){var l=this;A("PUT","Restaurants/edit",{ID:this.props.id,Name:e,PhoneNumber:t,Description:a,Website:n,OpenningTime:r}).then((function(e){l.props.history.push("/restaurants")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{initialValues:{Name:this.props.name,PhoneNumber:this.props.phoneNumber,Description:this.props.description,Website:this.props.website,OpeningTime:ke()(this.props.openningTime)},labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",size:"small",onFinish:function(t){e.editRestaurant(t.Name,t.PhoneNumber,t.Description,t.Website,ke()(t.OpeningTime).format("YYYY-MM-DD HH:mm"))}},r.a.createElement(d.a.Item,{label:"Name",name:"Name"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Phone Number",name:"PhoneNumber"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Website",name:"Website"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Description",name:"Description"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Opening Time",name:"OpeningTime"},r.a.createElement(ve.a,null)),r.a.createElement(d.a.Item,null,r.a.createElement(E.a,{type:"primary",size:"middle",htmlType:"submit"},"Submit"))),r.a.createElement(h.a,{justify:"center"},r.a.createElement(i.b,{to:"/tags/"+this.props.id},r.a.createElement(E.a,{size:"large",type:"link"},"Edit Tags"))),r.a.createElement(h.a,{justify:"center"},r.a.createElement(i.b,{to:"/restaurants/"},r.a.createElement(E.a,{size:"large",type:"link"},"Back"))))}}]),a}(r.a.Component),Oe=Object(D.f)(je),we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={name:"",description:"",id:"",openningTime:"",phoneNumber:"",website:""},n}return Object(s.a)(a,[{key:"getRestaurant",value:function(){var e=this;A("GET","Restaurants/"+this.props.match.params.id).then((function(t){console.log(t),e.setState({name:t.name,description:t.description,id:t.id,openningTime:t.openningTime,website:t.website,phoneNumber:t.phoneNumber})})).catch((function(e){console.log(e)}))}},{key:"conditionalRender",value:function(){return""==this.state.name?r.a.createElement("div",null," ",this.state.bankAccount," "):r.a.createElement(Oe,{name:this.state.name,phoneNumber:this.state.phoneNumber,website:this.state.website,openningTime:this.state.openningTime,id:this.state.id,description:this.state.description})}},{key:"componentDidMount",value:function(){this.getRestaurant()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){return r.a.createElement("div",null," ",this.conditionalRender())}}]),a}(r.a.Component),Te=Object(D.f)(we),Se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).columns=[{title:"Name",dataIndex:"name"},{title:"",key:"id",render:function(e,t){return r.a.createElement(i.b,{to:"/restaurants/"+t.key}," ",r.a.createElement(E.a,{type:"primary"},"Edit"))}},{title:"",key:"id",render:function(e,t){return r.a.createElement(E.a,{type:"danger",onClick:function(){return n.deleteRestaurant(t.key)}},"Delete")}}],n.state={restaurants:[]},n}return Object(s.a)(a,[{key:"deleteRestaurant",value:function(e){var t=this;A("DELETE","Restaurants/"+e,{}).then((function(e){t.getRestaurants()})).catch((function(e){console.log(e)}))}},{key:"getRestaurants",value:function(){var e=this;A("GET","Restaurants",{}).then((function(t){console.log(t);var a=t.map((function(e){return{key:e.id.toString(),name:e.name}}));e.setState({restaurants:a})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getRestaurants()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Q.a,{dataSource:this.state.restaurants,columns:this.columns,pagination:{pageSize:6}}),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/restaurant/add"},r.a.createElement(E.a,{size:"large"},"Add")))}}]),a}(r.a.Component),ze=Object(D.f)(Se),Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"AddRestaurant",value:function(e,t,a,n,r){var l=this;console.log(r),A("POST","Restaurants/",{Name:e,PhoneNumber:t,Description:a,Website:n,OpenningTime:r}).then((function(e){l.props.history.push("/restaurants")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",size:"small",onFinish:function(t){e.AddRestaurant(t.Name,t.PhoneNumber,t.Description,t.Website,ke()(t.OpeningTime).format("YYYY-MM-DD HH:mm"))}},r.a.createElement(d.a.Item,{label:"Name",name:"Name"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Phone Number",name:"PhoneNumber"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Website",name:"Website"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Description",name:"Description"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Opening Time",name:"OpeningTime"},r.a.createElement(ve.a,null)),r.a.createElement(d.a.Item,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),a}(r.a.Component),Ie=Object(D.f)(Ce),Re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"editUser",value:function(e,t,a,n,r,l){var c=this;A("PUT","Users/",{ID:this.props.id,Name:e,BankAccount:a,Surname:t,Telephone:n,Username:r,Password:l}).then((function(e){c.props.history.push("/users")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{initialValues:{Name:this.props.name,Surname:this.props.surname,Telephone:this.props.telephone,BankAccount:this.props.bankAccount,Password:this.props.password,Username:this.props.username,Tags:[]},labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",size:"small",onFinish:function(t){e.editUser(t.Name,t.Surname,t.BankAccount,t.Telephone,t.Username,t.Password)}},r.a.createElement(d.a.Item,{label:"Username",name:"Username"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Name",name:"Name"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Surname",name:"Surname"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Password",name:"Password"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Bank Account",name:"BankAccount"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Telephone",name:"Telephone"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,null,r.a.createElement(E.a,{type:"primary",size:"middle",htmlType:"submit"},"Submit"))),r.a.createElement(h.a,{justify:"center"},r.a.createElement(i.b,{to:"/users/"},r.a.createElement(E.a,{size:"large",type:"link"},"Back"))))}}]),a}(r.a.Component),Ae=Object(D.f)(Re),Pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={name:"",password:"",id:"",username:"",surname:"",telephone:"",bankAccount:""},n}return Object(s.a)(a,[{key:"getRestaurant",value:function(){var e=this;A("GET","Users/"+this.props.match.params.id).then((function(t){console.log(t),e.setState({name:t.name,password:t.password,id:t.id,username:t.username,surname:t.surname,telephone:t.telephone,bankAccount:t.bankAccount})})).catch((function(e){console.log(e)}))}},{key:"conditionalRender",value:function(){return""==this.state.name?r.a.createElement("div",null," ",this.state.bankAccount," "):r.a.createElement(Ae,{name:this.state.name,password:this.state.password,username:this.state.username,surname:this.state.surname,id:this.state.id,telephone:this.state.telephone,bankAccount:this.state.bankAccount})}},{key:"componentDidMount",value:function(){this.getRestaurant()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){return r.a.createElement("div",null," ",this.conditionalRender())}}]),a}(r.a.Component),De=Object(D.f)(Pe),xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).columns=[{title:"Name",dataIndex:"name"},{title:"Surname",dataIndex:"surname"},{title:"",key:"id",render:function(e,t){return r.a.createElement(i.b,{to:"/users/"+t.key}," ",r.a.createElement(E.a,{type:"primary"},"Edit"))}},{title:"",key:"id",render:function(e,t){return r.a.createElement(E.a,{type:"danger",onClick:function(){return n.deleteUser(t.key)}},"Delete")}}],n.state={restaurants:[]},n}return Object(s.a)(a,[{key:"deleteUser",value:function(e){var t=this;A("DELETE","Users/"+e,{}).then((function(e){t.getUsers()})).catch((function(e){console.log(e)}))}},{key:"getUsers",value:function(){var e=this;A("GET","Users",{}).then((function(t){console.log(t);var a=t.map((function(e){return{key:e.id.toString(),name:e.name,surname:e.surname}}));e.setState({users:a})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Q.a,{dataSource:this.state.users,columns:this.columns,pagination:{pageSize:6}}),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/user/add"},r.a.createElement(E.a,{size:"large"},"Add")))}}]),a}(r.a.Component),Ue=Object(D.f)(xe),Ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"addUser",value:function(e,t,a,n,r,l){var c=this;A("POST","Users",{Name:e,BankAccount:a,Surname:t,Telephone:n,Username:r,Password:l,RoleID:2}).then((function(e){c.props.history.push("/users")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",size:"small",onFinish:function(t){e.addUser(t.Name,t.Surname,t.BankAccount,t.Telephone,t.Username,t.Password)}},r.a.createElement(d.a.Item,{label:"Username",name:"Username"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Name",name:"Name"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Surname",name:"Surname"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Password",name:"Password"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Bank Account",name:"BankAccount"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,{label:"Telephone",name:"Telephone"},r.a.createElement(f.a,null)),r.a.createElement(d.a.Item,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Submit"))))}}]),a}(r.a.Component),We=Object(D.f)(Ne),Ve=a(130),Me=a(120),Ge=Me.a.Option,Be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).columns=[{title:"Name",dataIndex:"name"},{title:"",key:"id",render:function(e,t){return r.a.createElement(E.a,{type:"danger",onClick:function(){return n.deleteTag(t.key)}},"Delete")}}],n.state={dataSource:[]},n}return Object(s.a)(a,[{key:"getRestaurantTags",value:function(){var e=this;A("GET","Restaurants/"+this.props.match.params.id).then((function(t){var a=t.restaurantTags.map((function(e){return{key:e.id.toString(),name:e.tag.name}}));e.setState({dataSource:a})})).catch((function(e){console.log(e)}))}},{key:"addTag",value:function(e){var t=this;A("POST","Tags",{RestaurantID:this.props.match.params.id,TagID:e}).then((function(e){t.props.callback()})).catch((function(e){console.log(e)}))}},{key:"deleteTag",value:function(e){var t=this;A("DELETE","Tags/"+e,{}).then((function(e){t.props.callback()})).catch((function(e){console.log(e)}))}}]),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getRestaurantTags()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{dataSource:this.state.dataSource,columns:this.columns,pagination:!1}),r.a.createElement("br",null),r.a.createElement(d.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",size:"small",onFinish:function(t){e.addTag(t.Tag)}},r.a.createElement(d.a.Item,{label:"",name:"Tag"},r.a.createElement(Me.a,{placeholder:"Tags"},this.props.tags.map((function(e){return r.a.createElement(Ge,{key:e.id,value:e.id},"".concat(e.name))})))),r.a.createElement(d.a.Item,null,r.a.createElement(E.a,{type:"primary",size:"middle",htmlType:"submit"},"Add"))),r.a.createElement(h.a,{justify:"center"},r.a.createElement(i.b,{to:"/restaurants/"+this.props.match.params.id},r.a.createElement(E.a,{size:"large",type:"link"},"Back"))))}}]),a}(r.a.Component),Fe=Object(D.f)(Be),Le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={fin:!1,restaurantTags:"",tags:[]},n.getAllTags=n.getAllTags.bind(Object(Ve.a)(n)),n}return Object(s.a)(a,[{key:"getRestaurantTags",value:function(){var e=this;A("GET","Restaurants/"+this.props.match.params.id).then((function(t){e.setState({restaurantTags:t,fin:!0})})).catch((function(e){console.log(e)}))}},{key:"getAllTags",value:function(){var e=this;this.setState({fin:!1}),A("GET","Tags/").then((function(t){e.state.fin++,e.setState({tags:t}),e.getRestaurantTags()})).catch((function(e){console.log(e)}))}},{key:"conditionalRender",value:function(){return this.state.fin?r.a.createElement(Fe,{tags:this.state.tags,callback:this.getAllTags,restaurant:this.state.restaurantTags}):r.a.createElement("div",null," ")}},{key:"componentDidMount",value:function(){this.getAllTags()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){return r.a.createElement("div",null," ",this.conditionalRender())}}]),a}(r.a.Component),Ye=Object(D.f)(Le),He={background:"#0092ff",padding:"8px 0",color:"white"},qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{justify:"space-around",gutter:10},r.a.createElement(p.a,{span:12},r.a.createElement(i.b,{to:"/users"}," ",r.a.createElement("div",{style:He,align:"center"}," Edit Users ")," "))),r.a.createElement("br",null),r.a.createElement(h.a,{justify:"space-around",gutter:10},r.a.createElement(p.a,{span:12},r.a.createElement(i.b,{to:"/restaurants"}," ",r.a.createElement("div",{style:He,align:"center"}," Edit Restaurants ")," "))))}}]),a}(r.a.Component),Ke=(L.a.Header,L.a.Content),Je=(L.a.Footer,function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={auth:n.auth()},n}return Object(s.a)(a,[{key:"auth",value:function(){return w.a.load("auth")}},{key:"handler",value:function(){this.setState({auth:this.auth()})}},{key:"handleHistory",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement(i.a,null,r.a.createElement(K,{handler:this.handler.bind(this),auth:this.state.auth}),r.a.createElement(Ke,{style:{padding:"50px 50px",background:"white"}},r.a.createElement(D.c,null,r.a.createElement(D.a,{exact:!0,path:"/",component:function(){return r.a.createElement(de,null)}}),r.a.createElement(D.a,{exact:!0,path:"/editProfile",component:function(){return r.a.createElement(ye,null)}}),r.a.createElement(D.a,{exact:!0,path:"/restaurants",component:function(){return r.a.createElement(ze,null)}}),r.a.createElement(D.a,{exact:!0,path:"/restaurants/:id",component:function(){return r.a.createElement(Te,null)}}),r.a.createElement(D.a,{exact:!0,path:"/restaurant/add",component:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(D.a,{exact:!0,path:"/users",component:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(D.a,{exact:!0,path:"/users/:id",component:function(){return r.a.createElement(De,null)}}),r.a.createElement(D.a,{exact:!0,path:"/user/add",component:function(){return r.a.createElement(We,null)}}),r.a.createElement(D.a,{exact:!0,path:"/admin",component:function(){return r.a.createElement(qe,null)}}),r.a.createElement(D.a,{exact:!0,path:"/tags/:id",component:function(){return r.a.createElement(Ye,null)}}),r.a.createElement(D.a,{exact:!0,path:"/login",component:function(){return r.a.createElement(U,{handler:e.handler.bind(e),handleHistory:e.handleHistory.bind(e)})}}))))}}]),a}(r.a.Component));c.a.render(r.a.createElement(i.a,null,r.a.createElement(Je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[238,1,2]]]);
//# sourceMappingURL=main.9811b70f.chunk.js.map